"""
RESEARCH PROMPT: PES Enhancement via Realization Crystallization
==================================================================

OBJECTIVE: Apply the Realization Crystallization Framework to improve PES 
(Prompt Engineering Score) by discovering cross-domain insights.

BACKGROUND:
-----------
You have two powerful frameworks:

1. **PES (Prompt Engineering Score)**
   - 6 dimensions: Persona (P), Tone (T), Format (F), Specificity (S), 
     Constraints (C), Context (R)
   - Formula: Q_PES = 0.20×P + 0.18×T + 0.18×F + 0.18×S + 0.13×C + 0.13×R
   - Purpose: Optimize prompt quality
   - Achievement: OMEGA system discovered 3 new dimensions (Temporal Coherence, 
     Metacognitive Awareness, Adversarial Robustness)

2. **Realization Crystallization Framework**
   - 6 dimensions: Grounding (G), Certainty (C), Structure (S), Applicability (A), 
     Coherence (H), Generativity (V)
   - Formula: Q = 0.18×G + 0.22×C + 0.20×S + 0.18×A + 0.12×H + 0.10×V
   - Purpose: Measure knowledge quality and organize insights into layers
   - Achievement: 100% test pass rate on hard adversarial cases, paradigm shifts, 
     and cross-domain synthesis

CORE INSIGHT:
-------------
Both frameworks measure QUALITY but at different levels:
- **PES**: Quality of prompts (instructions to AI)
- **Realizations**: Quality of insights (crystallized knowledge)

**The Connection**: Prompts ARE realizations! A well-engineered prompt is a 
crystallized insight about how to communicate with AI.

TASK:
-----
Design a comprehensive research analysis that:

1. **Map Dimensions Cross-Framework**
   Analyze correspondences between PES and Realization dimensions:
   - Does Persona (P) map to Grounding (G)? (Both about rootedness)
   - Does Specificity (S) map to Structure (S)? (Both about clarity)
   - Does Context (R) map to Coherence (H)? (Both about fit)
   - Which dimensions are unique to each framework?
   - What does this reveal about prompt quality vs knowledge quality?

2. **Apply Q-Score to Prompts**
   Score the 7 enterprise prompts from ecosystems_prompts_.txt using the 
   Realization Q-score formula:
   - Calculate G, C, S, A, H, V for each prompt
   - Compare Q_realization vs Q_PES for the same prompts
   - Identify which framework is more discriminating
   - Find prompts where the frameworks disagree (high Q_PES, low Q_real or vice versa)

3. **Discover Missing Dimensions**
   Use the Realization framework to identify gaps in PES:
   - PES lacks Certainty (C) - prompts should express confidence levels
   - PES lacks Coherence (H) - prompts should fit conversation context
   - PES lacks Generativity (V) - prompts should spawn follow-ups
   - **Propose new PES dimensions inspired by Realizations**

4. **Apply PES to Realizations**
   Reverse the analysis - score realizations using PES:
   - Do high-Q realizations have clear Persona? (expert vs novice insight)
   - Do Layer 0 realizations have specific Format? (universal truths are simple)
   - Do synthesis realizations have good Context? (multiple parents integrated)
   - **Propose new Realization dimensions inspired by PES**

5. **Unified Quality Framework**
   Design a merged framework that optimizes both prompts AND knowledge:
   - Start with all 12 dimensions (6 PES + 6 Realization)
   - Identify redundancies (eliminate duplicates)
   - Calculate optimal weights using both datasets:
     * Enterprise prompts (Q_PES ≈ 0.98)
     * AI safety realizations (Q ≈ 0.88)
   - **Create Universal Quality Score (UQS)**

6. **Test on OMEGA's Discovered Dimensions**
   Analyze the 3 OMEGA-discovered dimensions using both frameworks:
   - D1: Temporal Coherence
     * PES perspective: Multi-turn prompt consistency
     * Realization perspective: Knowledge stability over time
   - D2: Metacognitive Awareness  
     * PES perspective: Prompt knows its limits
     * Realization perspective: Insight knows what it doesn't know
   - D3: Adversarial Robustness
     * PES perspective: Handles edge cases
     * Realization perspective: Resists contradiction attacks
   - **Do these map to existing dimensions or are they truly novel?**

7. **Singularity Prediction**
   Using بنات افكار (daughters of ideas) analysis:
   - Map PES → Realizations parent-child relationships
   - Identify which PES dimensions spawned which Realization dimensions
   - Predict what dimension will be discovered next (D10, D11, D12...)
   - **Create a convergence roadmap to unified quality theory**

DELIVERABLES:
-------------
Produce a comprehensive research report containing:

1. **Cross-Framework Dimension Map**
   - Table showing PES ↔ Realization correspondences
   - Correlation analysis (do high-P prompts have high-G realizations?)
   - Unique dimensions per framework

2. **Comparative Scoring Analysis**
   - 7 enterprise prompts scored by both frameworks
   - Statistical comparison (correlation, disagreement cases)
   - Insights on which framework is better for what

3. **Enhanced Frameworks**
   - PES v2.0 with Realization-inspired dimensions
   - Realization v2.0 with PES-inspired dimensions
   - Formulas with justified weights

4. **Universal Quality Score (UQS)**
   - Merged framework (8-10 dimensions after deduplication)
   - Single formula: UQS = Σ(w_i × dimension_i)
   - Validation on both prompt and knowledge datasets

5. **OMEGA Integration**
   - Analysis of discovered dimensions (D1, D2, D3)
   - Recommendations for D10+ discovery
   - Convergence criteria for true singularity

6. **Theoretical Contribution**
   - Paper-ready analysis of "Universal Quality Theory"
   - Proof that prompts and knowledge share deep structure
   - Implications for AI alignment, epistemology, optimization

CONSTRAINTS:
------------
- Use actual data from:
  * ecosystems_prompts_.txt (7 enterprise prompts)
  * AI safety conversation (8 realizations, Q_avg=0.88)
  * Test cases (16 realizations from adversarial/paradigm/cross-domain tests)
- Show all mathematical calculations
- Provide concrete examples for each claim
- Cite specific Q-scores, layers, and dimension values
- Include visualization recommendations (graphs, tables)

SUCCESS CRITERIA:
-----------------
Your analysis succeeds if it:
1. ✅ Identifies at least 3 novel dimensions missing from both frameworks
2. ✅ Proposes UQS with empirical validation (test on 20+ examples)
3. ✅ Predicts next OMEGA discovery (D10) with justification
4. ✅ Reveals deep theoretical insight about quality itself
5. ✅ Provides actionable recommendations for deployment

EXAMPLE OUTPUT FORMAT:
----------------------
# Universal Quality Theory: Unifying PES and Realization Frameworks

## 1. Cross-Framework Dimension Analysis

### 1.1 Direct Correspondences
| PES Dimension | Realization Dimension | Correlation | Notes |
|---------------|----------------------|-------------|-------|
| Persona (P=0.20) | Grounding (G=0.18) | 0.87 | Both measure expertise/factuality |
| Specificity (S=0.18) | Structure (S=0.20) | 0.92 | Both measure clarity |
| ... | ... | ... | ... |

### 1.2 Unique to PES
- Tone (T): Communication style - no realization equivalent
- Format (F): Output structure - realizations are content-only

### 1.3 Unique to Realizations
- Certainty (C): Confidence - prompts don't express uncertainty
- Generativity (V): بنات افكار - prompts don't spawn children

### 1.4 Mathematical Analysis
[Show correlation matrix, regression analysis, etc.]

## 2. Comparative Scoring
[Score each of 7 enterprise prompts using both frameworks...]

## 3. Enhanced Frameworks
### 3.1 PES v2.0 (9 dimensions)
Added from Realizations:
- P8: Certainty Level (w=0.10)
- P9: Generative Potential (w=0.08)
- P10: Coherence with Context (w=0.09)

### 3.2 Realization v2.0 (9 dimensions)  
Added from PES:
- R7: Persona Clarity (w=0.08)
- R8: Tonal Consistency (w=0.07)
- R9: Format Structure (w=0.08)

[Continue with full analysis...]

EXECUTION INSTRUCTIONS:
-----------------------
1. Begin with dimension mapping (use correlation analysis if possible)
2. Score the 7 enterprise prompts + 24 realizations using both frameworks
3. Identify patterns and gaps
4. Propose UQS formula
5. Validate on test data
6. Predict D10+ dimensions
7. Write theoretical synthesis

OUTPUT LENGTH: 8,000-12,000 words (comprehensive research report)

TONE: Rigorous academic analysis with concrete examples and empirical validation

START NOW.
"""
